<!DOCTYPE html>
<html>
<head>
 <meta charset="utf-8">
 <link rel="stylesheet" href="../shared/css/base.css" />
	
<style>
body
{
 background:#070;
}
	
#idcont
{	 
 position:absolute;
 transition:2s;
 left:17%; 
 top:11%;	 
 width:66%;	  
 height:77%;
 background:#770;
 border:5px ridge #f00;
 border-radius:22%;
 text-align:center;
}
	
.square
{
 //position:absolute;
 transition:777ms;
 width:88px;	  
 height:88px;
 background:#999;
 font-size:2em;
 cursor:pointer;
}
.square:hover

{
 transform:scale(1.2);
}
	 
.ttl
{
 transition:1s;
 color:#609;
 font-size:3em;
 text-align:center;
 transform:scale(1.1);
 cursor:pointer;
}
.ttl:hover
{
 color:#f0f;
 transform:scale(1.2);
}

</style>
</head>
<body>
<div id=idcont ></div>
 
<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.min.js"></script>
 
<script type=text/babel>
idcont.onmouseover=()=>
{
 idcont.style.transform='scale(1.2)'
}
idcont.onmouseout=()=>
{
 idcont.style.transform='scale(1)'
}
 
class Square extends React.Component 
{
 constructor(props) 
 {
  super(props);    
 }
 render() 
 { 
  return ( 
    <button
     className="square"
     onClick={this.props.onClick }
    >
     {this.props.value}
    </button>
   )
  }
}

class Board extends React.Component 
{
 constructor(props) 
 {
   super(props);
   this.state = {
     s:Array(9).fill(null),
     st:0,
     b:0,
     win:'',
     ai:[],
   };
 }
 handleClick(i) 
 {
  const s = this.state.s;  
  if(!s[i]) s[i]='X'; 
  while(s[this.state.st])
   this.state.st=Math.round(Math.random()*9); 
   s[this.state.st]='O';   
  if(((s[0]==s[4])&&(s[8]==s[4]))&&(s[0]=='X'))
   this.setState({win:'winner X'});
  if(((s[2]==s[4])&&(s[6]==s[4]))&&(s[2]=='X'))
   this.setState({win:'winner X'});     
  if(((s[0]==s[1])&&(s[2]==s[1]))&&(s[0]=='X'))
   this.setState({win:'winner X'});
  if(((s[3]==s[4])&&(s[5]==s[4]))&&(s[3]=='X'))
   this.setState({win:'winner X'});		 
  if(((s[6]==s[7])&&(s[8]==s[7]))&&(s[6]=='X'))
   this.setState({win:'winner X'});
  if(((s[0]==s[3])&&(s[6]==s[3]))&&(s[0]=='X'))
   this.setState({win:'winner X'});	  
  if(((s[1]==s[4])&&(s[7]==s[4]))&&(s[1]=='X'))
   this.setState({win:'winner X'});
  if(((s[2]==s[5])&&(s[8]==s[5]))&&(s[2]=='X'))
   this.setState({win:'winner X'}); 

  if(((s[0]==s[4])&&(s[8]==s[4]))&&(s[0]=='O'))
   this.setState({win:'winner O'});
  if(((s[2]==s[4])&&(s[6]==s[4]))&&(s[2]=='O'))
   this.setState({win:'winner O'});     
  if(((s[0]==s[1])&&(s[2]==s[1]))&&(s[0]=='O'))
   this.setState({win:'winner O'});
  if(((s[3]==s[4])&&(s[5]==s[4]))&&(s[3]=='O'))
   this.setState({win:'winner O'});		 
  if(((s[6]==s[7])&&(s[8]==s[7]))&&(s[6]=='O'))
   this.setState({win:'winner O'});
  if(((s[0]==s[3])&&(s[6]==s[3]))&&(s[0]=='O'))
   this.setState({win:'winner O'});	  
  if(((s[1]==s[4])&&(s[7]==s[4]))&&(s[1]=='O'))
   this.setState({win:'winner O'});
  if(((s[2]==s[5])&&(s[8]==s[5]))&&(s[2]=='O'))
   this.setState({win:'winner O'});    
   
    this.setState({})
  }
  renderSquare(i) 
  {
    return (
      <Square
        value={this.state.s[i]}
        onClick={()=>this.handleClick(i)}
      />
    );
  }
  render() 
  {
   return(
    <div> 
	 <div  Style='position:relative;top:33px;'>  	   
      <p class='ttl'> Click any cell </p>  
	  <p>{this.state.win}</p>
     <div>
      {this.renderSquare(0)}
      {this.renderSquare(1)}
      {this.renderSquare(2)}
     </div>
     <div className>
      {this.renderSquare(3)}
      {this.renderSquare(4)}
      {this.renderSquare(5)}
     </div>
     <div className>
      {this.renderSquare(6)}
      {this.renderSquare(7)}
      {this.renderSquare(8)}
     </div>
	  
    </div>
   </div > 
  )
 }  
}

ReactDOM.render(
  <Board />,
  document.getElementById('idcont')
)
	  
</script>
</body>
</html>
