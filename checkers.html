
<html>
<body id=idbd>
<style>
#idbd
{
 background:radial-gradient(#0bb,#bb0);
}

.btn
{
 position:absolute;
 transition:1s;
 cursor:pointer;
}

.dsk
{
 position:absolute;
 transition:2s;
 left:35%;
 top:10%;
 width:400px;
 height:400px; 
 border:2px ridge #909;
 transform:skew(33deg); 
}
.cll
{
 position:absolute;
 width:50px;
 height:50px;
}
.fgr
{
 position:absolute;
 transition:1s;
 cursor:pointer;
 width:50px;
 height:50px;
 border-radius:50%;
 font-size:2em;
 text-align:center;
}

</style>
<button class=btn >Go..</button>
<button class=btn >Stay</button>
<button class=btn >Mix</button>
<button class=btn >Step</button>

<div class=dsk></div>

<script>
btn=document.getElementsByClassName("btn")
dsk=document.getElementsByClassName("dsk")
ttpl=document.getElementsByClassName("ttpl")
   
btn[0].style.left=5+'%'
btn[0].style.top=11+'%'
btn[0].style.background='#f00'
btn[0].style.color='#fff'
btn[0].style.transform='scale(3)'
btn[1].style.left=5+'%'
btn[1].style.top=31+'%'
btn[1].style.background='#b00'
btn[1].style.color='#eee'
btn[1].style.transform='scale(3)'  
btn[2].style.left=5+'%'
btn[2].style.top=21+'%'
btn[2].style.background='#b0f'
btn[2].style.color='#eee'
btn[2].style.transform='scale(3)'  
btn[3].style.left=5+'%'
btn[3].style.top=41+'%'
btn[3].style.background='#b00'
btn[3].style.color='#eee'
btn[3].style.transform='scale(3)' 
   
cl=[], icl=[], jcl=[]
for(i=0;i<8;i++)
 for(j=0;j<8;j++)
 {
  cl[i]=document.createElement("div")
  cl[i].className='cll'
  cl[i].style.left=i*50+'px'
  cl[i].style.top=j*50+'px'
  cl[i].style.background='#888'
   dsk[0].appendChild(cl[i])
  if(!(i%2==0)&&(j%2==0)||!(i%2==1)&&(j%2==1))
  {
   cl[i].style.background='#aaa'
  }  
 }
 dsk[0].style.border='5px ridge #909' 
 dsk[0].style.transform= 
   'scale(1.6) translate(11%,11%)'
 
wf=[], bf=[]
for(i=0;i<12;i++)    
{ 
 wf[i]=document.createElement("div")
 wf[i].className='fgr'
 dsk[0].appendChild(wf[i])
 wf[i].style.background=
  'radial-gradient(14px,#999,#ccc)' 
}
for(i=0;i<12;i++)    
{ 
 bf[i]=document.createElement("div")
 bf[i].className='fgr'  
 dsk[0].appendChild(bf[i])
 bf[i].style.background=
  'radial-gradient(14px,#555,#222)'
}    
function ina()
{
 aw=[
     {x:0,y:0},{x:2,y:0},{x:4,y:0},{x:6,y:0},
     {x:1,y:1},{x:3,y:1},{x:5,y:1},{x:7,y:1},
     {x:0,y:2},{x:2,y:2},{x:4,y:2},{x:6,y:2}
    ]
 ab=[
     {x:1,y:7},{x:3,y:7},{x:5,y:7},{x:7,y:7},
     {x:0,y:6},{x:2,y:6},{x:4,y:6},{x:6,y:6},
     {x:1,y:5},{x:3,y:5},{x:5,y:5},{x:7,y:5}
    ]   
}
 
function arrfgr()
{
 ina()
 for(i=0;i<12;i++)    
 {
   wf[i].style.left=aw[i].x*50+'px'
   wf[i].style.top=aw[i].y*50+'px'
   wf[i].style.transform='scale(1)' 
 }
 for(i=0;i<12;i++)    
 {
   bf[i].style.left=ab[i].x*50+'px'
   bf[i].style.top=ab[i].y*50+'px'
   bf[i].style.transform='scale(1)'
 }
}
  arrfgr()

Isi=0
bmv=1
function mv()
{
 if(bmv)
  dsk[0].style.transform= 
   'scale(0.6) translate(0,11%) skew(33deg)'
 else
  dsk[0].style.transform= 
   'scale(1.2) translate(0,15%) skew(-33deg)'
 bmv=!bmv
}

bbtn0=0 
btn[0].onclick=()=>
{
 if(bbtn0==0)
 {
   mv()
   Isi=setInterval(mv, 2000)	
   btn[0].innerHTML='Stop' 
 }
 else
 {
   clearInterval(Isi)
  dsk[0].style.transform= 
   'scale(1.6) translate(11%,11%)'
   btn[0].innerHTML='Go..'
 }
  bbtn0=!bbtn0
}

btn[1].onclick=()=>
{ 
  arrfgr()
  btn[1].disabled=1
  bwf=0
  bbf=0
}
bwf=bbf=0
btn[2].onclick=()=>
{ 
  btn[1].disabled=0
  bwf=1
  bbf=1
}	

btn[3].onclick=()=>
{ 
 vlnt=Math.round(Math.random()*12)
 wf[vlnt].style.background=
  'radial-gradient(14px,#000,#f00)' 
 wf[vlnt].style.transform='scale(1.2)' 
 setTimeout(()=>{
  wf[vlnt].style.background=
   'radial-gradient(14px,#999,#ccc)'
  wf[vlnt].style.transform='scale(1)' 
 }, 999)
}	
	
function tchw(i)
{
 wf[i].onmousemove=()=>
 {   
  if(bwf)
  {
   vx=(event.offsetX)*5
   vy=(event.offsetY)*5
   dx=vx%50
   dy=vy%50
   wf[i].style.left=(vx-dx)+'px'
   wf[i].style.top=(vy-dy)+'px'
   for(j=0;j<12;j++)    
    if((bf[j].style.left==wf[i].style.left)&&
	 (bf[j].style.top==wf[i].style.top))
	{
	 bf[j].style.transform='scale(0)'
    }
  } 
  wf[i].style.transform='scale(1.2)'
  wf[i].style.background=
   'radial-gradient(14px,#090,#0c0)'
  wf[i].style.border='1px ridge #000'
 }	
 wf[i].onmouseout=()=>
 {   
  wf[i].style.transform='scale(1)'
  wf[i].style.background=
   'radial-gradient(14px,#999,#ccc)'
  wf[i].style.border='none'
 }	
}
tchw(0); tchw(1); tchw(2);
tchw(3); tchw(4); tchw(5);
tchw(6); tchw(7); tchw(8);
tchw(9); tchw(10); tchw(11);
function clw(i)
{
 wf[i].onclick=()=>
 { 
   st=Math.round(Math.random()*2-1)
  if(st<0)st=-1; else st=1; 
  if(aw[i].x+st<0||aw[i].x+st>7) st=-st  
  wf[i].style.left=(aw[i].x+st)*50
   aw[i].x+=st
  wf[i].style.top=(aw[i].y+1)*50
   aw[i].y+=1
  if(st==0)st=-1; else st=1; 
  clb(1)
   btn[1].disabled=0
 }
}
clw(0); clw(1); clw(2);
clw(3); clw(4); clw(5);
clw(6); clw(7); clw(8);
clw(9); clw(10); clw(11);

function tchb(i)
{
 bf[i].onmousemove=()=>
 {
  if(bbf)
  {
   vx=(event.offsetX)*5
   vy=(event.offsetY)*5
   dx=vx%50
   dy=vy%50
   bf[i].style.left=(vx-dx)+'px'
   bf[i].style.top=(vy-dy)+'px'
   for(j=0;j<12;j++)    
    if((bf[i].style.left==wf[j].style.left)&&
	 (bf[i].style.top==wf[j].style.top))
	{
	 wf[j].style.transform='scale(0)'
    }
  } 
  bf[i].style.background=
   'radial-gradient(14px,#cc0,#ff0)'
  bf[i].style.border='1px ridge #222'
  bf[i].style.transform='scale(1.2)'
 }	
 bf[i].onmouseout=()=>
 { 
  bf[i].style.background=
   'radial-gradient(14px,#555,#222)'
  bf[i].style.border='none'
  bf[i].style.transform='scale(1)'
 }	
}	
tchb(0); tchb(1); tchb(2);
tchb(3); tchb(4); tchb(5);
tchb(6); tchb(7); tchb(8);
tchb(9); tchb(10); tchb(11);	
function clb(i)
{
 bf[i].onclick=()=>
 { 
   st=Math.round(Math.random()*2-1)
  if(st<0)st=-1; else st=1; 
  if(ab[i].x+st<0||ab[i].x+st>7) st=-st 
  for(j=0;j<12;j++)
   if((aw[j].x==ab[i].x)&&(aw[j].y==ab[i].y))
    wf[j].style.transform='scale(0)'
  bf[i].style.left=(ab[i].x+st)*50
   ab[i].x+=st
  bf[i].style.top=(ab[i].y-1)*50
   ab[i].y-=1
   btn[1].disabled=0
 }
}
clb(0); clb(1); clb(2);
clb(3); clb(4); clb(5);
clb(6); clb(7); clb(8);
clb(9); clb(10); clb(11);	

</script>
</body>
</html>